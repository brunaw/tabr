<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chord functions â€¢ tabr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Chord functions">
<meta property="og:description" content="">
<meta property="og:image" content="http://leonawicz.github.io/tabr/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-46129458-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-46129458-3');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tabr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-info-circle"></span>
     
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Transcription</li>
    <li>
      <a href="../articles/tabr-basics.html">Basic example</a>
    </li>
    <li>
      <a href="../articles/tabr-phrases.html">Musical phrases</a>
    </li>
    <li>
      <a href="../articles/tabr-helpers.html">Phrase helpers</a>
    </li>
    <li>
      <a href="../articles/tabr-chords.html">Chords</a>
    </li>
    <li>
      <a href="../articles/tabr-repeats.html">Repeats</a>
    </li>
    <li>
      <a href="../articles/tabr-tracks-scores.html">Tracks and scores</a>
    </li>
    <li>
      <a href="../articles/tabr-engraving.html">Engraving</a>
    </li>
    <li>
      <a href="../articles/tabr-tunings.html">Strings and tunings</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Programming</li>
    <li>
      <a href="../articles/tabr-prog-nw.html">Noteworthiness</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-scales.html">Musical scales</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-notes.html">Note functions</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-chords.html">Chord functions</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/tabr-ex1.html">Tuning and capo</a>
    </li>
    <li>
      <a href="../articles/tabr-ex2.html">Multiple voices</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-book"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/leonawicz/tabr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Chord functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/leonawicz/tabr/blob/master/vignettes/tabr-prog-chords.Rmd"><code>vignettes/tabr-prog-chords.Rmd</code></a></small>
      <div class="hidden name"><code>tabr-prog-chords.Rmd</code></div>

    </div>

    
    
<div id="chord-identity-and-comparison" class="section level2">
<h2 class="hasAnchor">
<a href="#chord-identity-and-comparison" class="anchor"></a>Chord identity and comparison</h2>
<p>You have already seen <code>is_chord</code>, which is similar to <code>is_note</code>. Another check that can be performed on chords is whether they are diatonic to a scale. <code>chord_is_diatonic</code> strictly accepts chords in noteworthy strings.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> "ce_g cd#g"</span>
<span class="kw"><a href="../reference/chord_is_diatonic.html">chord_is_diatonic</a></span>(x, <span class="dt">key =</span> <span class="st">"b_"</span>)
<span class="co">#&gt; [1]  TRUE FALSE</span></code></pre></div>
<p>A few functions that compare chords are <code>chord_rank</code>, <code>chord_order</code> and <code>chord_sort</code>. Ranking chords, and the ordering and sorting based on that, requires a definition or set of definitions to work from.</p>
<p>The first argument is a noteworthy string. The second, <code>pitch</code>, can be <code>"min"</code> (the default), <code>"mean"</code>, or <code>"max"</code>. Each of these refers to the functions that operate on the three available definitions of ranking chords. When ranking individual notes, the result is fixed because there are only two pitches being compared. For chords, however, <code>pitch = "min"</code> compares only the lowest pitch or root note of a chord. For <code>pitch = "max"</code>, the highest pitch note in each chord is used for establishing rank. For <code>pitch = "mean"</code>, the average of all notes in the chord are used for ranking chords.</p>
<p>Rank is from lowest to highest pitch. These options define how chords are ranked, but each function below also passes on additional arguments via <code>...</code> to the base functions <code>rank</code> and <code>order</code> for the additional control over the more general aspects of how ranking and ordering are done in R. <code>chord_order</code> works analogously to <code>chord_rank</code>. <code>chord_sort</code> wraps around <code>chord_order</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> "a2 c a2 ceg ce_g cea"</span>
<span class="kw"><a href="../reference/chord-compare.html">chord_rank</a></span>(x, <span class="st">"min"</span>)
<span class="co">#&gt; [1] 1.5 4.5 1.5 4.5 4.5 4.5</span>
<span class="kw"><a href="../reference/chord-compare.html">chord_rank</a></span>(x, <span class="st">"max"</span>)
<span class="co">#&gt; [1] 1.5 3.0 1.5 4.5 4.5 6.0</span>
<span class="kw"><a href="../reference/chord-compare.html">chord_rank</a></span>(x, <span class="st">"mean"</span>)
<span class="co">#&gt; [1] 1.5 3.0 1.5 5.0 4.0 6.0</span>

<span class="kw"><a href="../reference/chord-compare.html">chord_order</a></span>(x)
<span class="co">#&gt; [1] 1 3 2 4 5 6</span>
<span class="kw"><a href="../reference/chord-compare.html">chord_order</a></span>(x, <span class="st">"mean"</span>)
<span class="co">#&gt; [1] 1 3 2 5 4 6</span>

<span class="kw"><a href="../reference/chord-compare.html">chord_sort</a></span>(x, <span class="st">"mean"</span>)
<span class="co">#&gt; [1] "a2 a2 c ce_g ceg cea"</span></code></pre></div>
</div>
<div id="chord-transformations" class="section level2">
<h2 class="hasAnchor">
<a href="#chord-transformations" class="anchor"></a>Chord transformations</h2>
<p>A broken chord can be created with <code>chord_break</code>, which separates a chord into its component notes, separating in time. It accepts a single chord.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> "ce_g"</span>
<span class="kw"><a href="../reference/chord_break.html">chord_break</a></span>(x)
<span class="co">#&gt; [1] "c e_ g"</span></code></pre></div>
<p><code>chord_invert</code> creates chord inversions. It also takes a single chord as input. It treats any chord as being in root position as provided.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/chord_invert.html">chord_invert</a></span>(x, <span class="dv">1</span>)
<span class="co">#&gt; [1] "e_gc4"</span>
<span class="kw"><a href="../reference/chord_invert.html">chord_invert</a></span>(x, <span class="dv">2</span>)
<span class="co">#&gt; [1] "gc4e_4"</span>
<span class="kw"><a href="../reference/chord_invert.html">chord_invert</a></span>(x, <span class="dv">3</span>)
<span class="co">#&gt; [1] "c4e_4g4"</span>

<span class="kw"><a href="../reference/chord_invert.html">chord_invert</a></span>(x, <span class="op">-</span><span class="dv">1</span>)
<span class="co">#&gt; [1] "g2ce_"</span>
<span class="kw"><a href="../reference/chord_invert.html">chord_invert</a></span>(x, <span class="op">-</span><span class="dv">2</span>)
<span class="co">#&gt; [1] "e_2g2c"</span>
<span class="kw"><a href="../reference/chord_invert.html">chord_invert</a></span>(x, <span class="op">-</span><span class="dv">3</span>)
<span class="co">#&gt; [1] "c2e_2g2"</span></code></pre></div>
<p>While a chord with <code>n</code> notes has <code>n - 1</code> inversions, <code>chord_invert</code> allows inversions to continue, moving a chord further up or down in octaves. If you want to restrict the function to only allowing the defined number of inversions (excluding root position), set <code>limit = TRUE</code>. This enforces the rule that, for example, a chord with three notes has two inversions and <code>n</code> can only take values between <code>-2</code> and <code>2</code> or it will throw and error.</p>
<p>Building up on <code>chord_invert</code>, <code>chord_arpeggiate</code> grows a chord up or down the scale in pitch by creating an arpeggio. <code>n</code> describes how many steps to add onto the original chord. Setting <code>by = "chord"</code> will replicate the entire chord as is, up or down the scale. In this case <code>n</code> indicates whole octave transposition steps. By default, <code>n</code> refers to the number of steps that individual chord notes are arpeggiated, like in <code>chord_invert</code>. This means for example that in a chord with three notes, setting <code>n = 3</code> and <code>by = "note"</code> is equivalent to setting <code>n = 1</code> and <code>by = "chord"</code>.</p>
<p>The argument <code>broken = TRUE</code> will also convert to a broken chord, resulting in an arpeggio of individual notes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/chord_arpeggiate.html">chord_arpeggiate</a></span>(<span class="st">"ce_gb_"</span>, <span class="dv">2</span>)
<span class="co">#&gt; [1] "ce_gb_"   "e_gb_c4"  "gb_c4e_4"</span>
<span class="kw"><a href="../reference/chord_arpeggiate.html">chord_arpeggiate</a></span>(<span class="st">"ce_gb_"</span>, <span class="op">-</span><span class="dv">2</span>)
<span class="co">#&gt; [1] "ce_gb_"   "b_2ce_g"  "g2b_2ce_"</span>
<span class="kw"><a href="../reference/chord_arpeggiate.html">chord_arpeggiate</a></span>(<span class="st">"ce_gb_"</span>, <span class="dv">2</span>, <span class="dt">by =</span> <span class="st">"chord"</span>)
<span class="co">#&gt; [1] "ce_gb_"     "c4e_4g4b_4" "c5e_5g5b_5"</span>
<span class="kw"><a href="../reference/chord_arpeggiate.html">chord_arpeggiate</a></span>(<span class="st">"ce_gb_"</span>, <span class="dv">1</span>, <span class="dt">broken =</span> <span class="ot">TRUE</span>, <span class="dt">collapse =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; [1] "c e_ g b_ e_ g b_ c4"</span></code></pre></div>
</div>
<div id="chord-construction" class="section level2">
<h2 class="hasAnchor">
<a href="#chord-construction" class="anchor"></a>Chord construction</h2>
<p>Before introducing the chord constructors, here is a brief mention and example of the <code>dyad</code> function for constructing dyads from a root note and and interval. Dyads are not technically chords, but this is as good a place as any to mention <code>dyad</code>. The interval can be in semitones, or a named interval from <code>mainIntervals</code> that corresponds to the number of semitones.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/dyad.html">dyad</a></span>(<span class="st">"a"</span>, <span class="dv">3</span>)
<span class="co">#&gt; [1] "ac4"</span>
x &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"minor third"</span>, <span class="st">"m3"</span>, <span class="st">"augmented second"</span>, <span class="st">"A2"</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">sapply</a></span>(x, <span class="cf">function</span>(x) <span class="kw"><a href="../reference/dyad.html">dyad</a></span>(<span class="st">"a"</span>, x))
<span class="co">#&gt;      minor third               m3 augmented second               A2 </span>
<span class="co">#&gt;            "ac4"            "ac4"            "ac4"            "ac4"</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">sapply</a></span>(x, <span class="cf">function</span>(x) <span class="kw"><a href="../reference/dyad.html">dyad</a></span>(<span class="st">"c'"</span>, x, <span class="dt">reverse =</span> <span class="ot">TRUE</span>))
<span class="co">#&gt;      minor third               m3 augmented second               A2 </span>
<span class="co">#&gt;            "ac'"            "ac'"            "ac'"            "ac'"</span></code></pre></div>
<div id="available-constructors" class="section level3">
<h3 class="hasAnchor">
<a href="#available-constructors" class="anchor"></a>Available constructors</h3>
<p>Now to the topic of chord construction. Chords are often constructed directly, but many can also be constructed using helper functions. Currently, helpers exist for common chords up through thirteenths. There are not currently any constructors for guitar-specific chord shapes and fingerings. <code>tabr</code> offers two options for each chord constructor, the longer <code>chord_*</code>-named function and its <code>x*</code> alias. The table below shows all available constructors.</p>
<pre><code>#&gt;        full_name abbreviation
#&gt; 1      chord_min           xm
#&gt; 2      chord_maj           xM
#&gt; 3     chord_min7          xm7
#&gt; 4     chord_dom7           x7
#&gt; 5      chord_7s5         x7s5
#&gt; 6     chord_maj7          xM7
#&gt; 7     chord_min6          xm6
#&gt; 8     chord_maj6          xM6
#&gt; 9      chord_dim         xdim
#&gt; 10    chord_dim7        xdim7
#&gt; 11    chord_m7b5        xm7b5
#&gt; 12     chord_aug         xaug
#&gt; 13       chord_5           x5
#&gt; 14    chord_sus2          xs2
#&gt; 15    chord_sus4          xs4
#&gt; 16    chord_dom9           x9
#&gt; 17     chord_7s9         x7s9
#&gt; 18    chord_maj9          xM9
#&gt; 19    chord_add9        xadd9
#&gt; 20    chord_min9          xm9
#&gt; 21   chord_madd9         xma9
#&gt; 22   chord_min11         xm11
#&gt; 23    chord_7s11        x7s11
#&gt; 24 chord_maj7s11       xM7s11
#&gt; 25      chord_11         x_11
#&gt; 26   chord_maj11         xM11
#&gt; 27      chord_13         x_13
#&gt; 28   chord_min13         xm13
#&gt; 29   chord_maj13         xM13</code></pre>
<p>These functions take root notes and a key signature as input. The given function determines the intervals of the chord. This in combination with a root note is all that is needed to create the chord. However, the key signature can enforce whether the result uses flats or sharps when accidentals are present.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/chords.html">chord_min7</a></span>(<span class="st">"a c e"</span>)
<span class="co">#&gt; [1] "ac4e4g4" "cd#ga#"  "egbd4"</span>
<span class="kw"><a href="../reference/chords.html">chord_min7</a></span>(<span class="st">"a c e"</span>, <span class="dt">key =</span> <span class="st">"f"</span>)
<span class="co">#&gt; [1] "ac4e4g4" "ce_gb_"  "egbd4"</span>
<span class="kw"><a href="../reference/chords.html">xm7</a></span>(<span class="st">"a c e"</span>, <span class="dt">key =</span> <span class="st">"f"</span>)
<span class="co">#&gt; [1] "ac4e4g4" "ce_gb_"  "egbd4"</span></code></pre></div>
</div>
<div id="eventual-direction" class="section level3">
<h3 class="hasAnchor">
<a href="#eventual-direction" class="anchor"></a>Eventual direction</h3>
<p>Chord constructors are a new concept and this collection of convenient wrapper functions may change significantly in a future version of <code>tabr</code>. In the context of creating guitar tablature, these are not very useful. Another concept of chord constructors will be developed in a future version with a focus on generating chords for guitar tablature. Such a constructor or set of constructors may consider information such as:</p>
<ul>
<li>chord shape</li>
<li>number of, or which strings are used</li>
<li>fret number, or minimum fret</li>
<li>chord root</li>
<li>separate bass note</li>
<li>bar or open</li>
</ul>
<p>Some of these considerations could yield different constructors that build chords from different information, each being provided sufficiently complete, but not redundant, information.</p>
<p>Another distinction to make is among the output formats provided by chord constructors. One group of constructors could yield the noteworthy strings that eventually end up on the tab staff and/or music staff in <code>tabr</code> output. Another group of constructors could generate the chord format used for creating fretboard diagrams, which have a different syntax. Choice of output format could be an argument to a parent constructor, but there can also be separate groups of wrapper functions that default to each type of output.</p>
<p>In any case, this is mentioned here so that users are aware that there are development plans for chord construction that is tablature focused and helpful for guitar, and which does not look like the examples shown above. The more piano chord style convenience functions above will remain for programming purposes and whatever other conveniences they offer, but as chord construction in <code>tabr</code> receives further development, it is going to look very different, serve different purposes, and the currently available functions will look like an aside. There will likely be a few constructor functions that generate many guitar chords in various ways given different information. There will not be a large collection of functions named after specific guitar chords.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#chord-identity-and-comparison">Chord identity and comparison</a></li>
      <li><a href="#chord-transformations">Chord transformations</a></li>
      <li><a href="#chord-construction">Chord construction</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://leonawicz.github.io/">Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
