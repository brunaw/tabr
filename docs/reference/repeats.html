<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Repeat phrases — repeats • tabr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Repeat phrases — repeats" />

<meta property="og:description" content="Create a repeat section in LilyPond readable format." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46129458-3', 'auto');
  ga('send', 'pageview');

</script>



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tabr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-info-circle"></span>
     
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tabr-basics.html">Basic example</a>
    </li>
    <li>
      <a href="../articles/tabr-phrases.html">Musical phrases</a>
    </li>
    <li>
      <a href="../articles/tabr-helpers.html">Phrase helpers</a>
    </li>
    <li>
      <a href="../articles/tabr-chords.html">Chords</a>
    </li>
    <li>
      <a href="../articles/tabr-repeats.html">Repeats</a>
    </li>
    <li>
      <a href="../articles/tabr-tracks-scores.html">Tracks and scores</a>
    </li>
    <li>
      <a href="../articles/tabr-engraving.html">Engraving</a>
    </li>
    <li>
      <a href="../articles/tabr-tunings.html">Strings and tunings</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Examples</li>
    <li>
      <a href="../articles/tabr-ex1.html">Tuning and capo</a>
    </li>
    <li>
      <a href="../articles/tabr-ex2.html">Multiple voices</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-book"></span>
     
    Reference
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/leonawicz/tabr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Repeat phrases</h1>
    <small>Source: <a href='https://github.com/leonawicz/tabr/blob/master/R/repeats.R'><code>R/repeats.R</code></a></small>
    </div>

    
    <p>Create a repeat section in LilyPond readable format.</p>
    

    <pre class="usage"><span class='fu'>rp</span>(<span class='no'>phrase</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='fu'>pct</span>(<span class='no'>phrase</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>counter</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>step</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>reset</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>volta</span>(<span class='no'>phrase</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>endings</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>silent</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>phrase</th>
      <td><p>a phrase or basic string to be repeated.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>integer, number of repeats of <code>phrase</code> (one less than the total number of plays).</p></td>
    </tr>
    <tr>
      <th>counter</th>
      <td><p>logical, if <code>TRUE</code>, print the percent repeat counter above the staff, applies only to <em>measure</em> repeats of more than two repeats (<code>n</code> &gt; 2).</p></td>
    </tr>
    <tr>
      <th>step</th>
      <td><p>integer, print the <em>measure</em> percent repeat counter above the staff only at every <code>step</code> measures when <code>counter = TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>reset</th>
      <td><p>logical, percent repeat <code>counter</code> and <code>step</code> settings are only applied to the single <code>pct</code> call and are reset afterward. If <code>reset = FALSE</code>, the settings are left open to apply to any subsequent percent repeat sections in a track.</p></td>
    </tr>
    <tr>
      <th>endings</th>
      <td><p>list of phrases or basic strings, alternate endings.</p></td>
    </tr>
    <tr>
      <th>silent</th>
      <td><p>if <code>TRUE</code>, no text will be printed above the staff at the beginning of a volta section.See details.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a phrase.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These functions wraps a phrase object or a character string in LilyPond repeat syntax. The most basic is <code>rp</code> for basic wrapping a LilyPond <code>unfold</code> repeat tag around a phrase.
This repeats the phrase <code>n</code> times, but it is displayed in the engraved sheet music fully written out as a literal propagation of the phrase with no repeat notation used to reduce redundant presentation.
The next is <code>pct</code>, which wraps a <code>percent</code> repeat tag around a phrase. This is displayed in sheet music as percent repeat notation whose specific notation changes based on the length of the repeated section of music, used for beats or whole measures.
<code>volta</code> wraps a phrase in a <code>volta</code> repeat tag, used for long repeats of one or more full measures or bars of music, optionally with alternate endings.</p>
<p>Note that basic strings should still be interpretable as a valid musical phrase by LilyPond and such strings will be coerced to the phrase class by these functions.
For example, a one-measure rest, <code>"r1"</code>, does not need to be a phrase object to work with these functions, nor does any other character string explicitly written out in valid LilyPond syntax.
As always, see the LilyPond documentation if you are not familiar with LilyPond syntax.</p>
<p>VOLTA REPEAT: When <code>silent = TRUE</code> there is no indication of the number of plays above the staff at the start of the volta section. This otherwise happens automatically when the number of repeats is greater than one and no alternate endings are included (which are already numbered).
This override creates ambiguity on its own, but is important to use multiple staves are present and another staff already displays the text regarding the number or plays. This prevents printing the same text above every staff.</p>
<p>PERCENT REPEAT: As indicated in the parameter descriptions, the arguments <code>counter</code> and <code>step</code> only apply to full measures or bars of music. It does not apply to shorter beats that are repeated using <code>pct</code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>phrase</code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>phrase</span>(<span class='st'>"c ec'g' ec'g'"</span>, <span class='st'>"4 4 2"</span>, <span class='st'>"5 432 432"</span>)
<span class='no'>e1</span> <span class='kw'>&lt;-</span> <span class='fu'>phrase</span>(<span class='st'>"a"</span>, <span class='fl'>1</span>, <span class='fl'>5</span>) <span class='co'># ending 1</span>
<span class='no'>e2</span> <span class='kw'>&lt;-</span> <span class='fu'>phrase</span>(<span class='st'>"b"</span>, <span class='fl'>1</span>, <span class='fl'>5</span>) <span class='co'># ending 2</span>

<span class='fu'>rp</span>(<span class='no'>x</span>) <span class='co'># simple unfolded repeat, one repeat or two plays</span></div><div class='output co'>#&gt; \repeat unfold 2 { &lt;c\5&gt;4 &lt;e\4 c'\3 g'\2&gt;4 &lt;e\4 c'\3 g'\2&gt;2  }</div><div class='input'><span class='fu'>rp</span>(<span class='no'>x</span>, <span class='fl'>3</span>) <span class='co'># three repeats or four plays</span></div><div class='output co'>#&gt; \repeat unfold 4 { &lt;c\5&gt;4 &lt;e\4 c'\3 g'\2&gt;4 &lt;e\4 c'\3 g'\2&gt;2  }</div><div class='input'>
<span class='fu'>pct</span>(<span class='no'>x</span>) <span class='co'># one repeat or two plays</span></div><div class='output co'>#&gt; \repeat percent 2 { &lt;c\5&gt;4 &lt;e\4 c'\3 g'\2&gt;4 &lt;e\4 c'\3 g'\2&gt;2  }</div><div class='input'><span class='fu'>pct</span>(<span class='no'>x</span>, <span class='fl'>9</span>, <span class='fl'>TRUE</span>, <span class='fl'>5</span>) <span class='co'># 10 plays, add counter every 5 steps</span></div><div class='output co'>#&gt; \set countPercentRepeats = ##t
#&gt; \set repeatCountVisibility = #(every-nth-repeat-count-visible 5)
#&gt; \repeat percent 10 { &lt;c\5&gt;4 &lt;e\4 c'\3 g'\2&gt;4 &lt;e\4 c'\3 g'\2&gt;2  }
#&gt; \set countPercentRepeats = ##f
#&gt; \set repeatCountVisibility = #(every-nth-repeat-count-visible 1)</div><div class='input'><span class='fu'>pct</span>(<span class='no'>x</span>, <span class='fl'>9</span>, <span class='fl'>TRUE</span>, <span class='fl'>5</span>, <span class='fl'>FALSE</span>) <span class='co'># as above, but do not reset counter settings</span></div><div class='output co'>#&gt; \set countPercentRepeats = ##t
#&gt; \set repeatCountVisibility = #(every-nth-repeat-count-visible 5)
#&gt; \repeat percent 10 { &lt;c\5&gt;4 &lt;e\4 c'\3 g'\2&gt;4 &lt;e\4 c'\3 g'\2&gt;2  }</div><div class='input'>
<span class='fu'>volta</span>(<span class='no'>x</span>) <span class='co'># one repeat or two plays</span></div><div class='output co'>#&gt; \repeat volta 2 { &lt;c\5&gt;4 &lt;e\4 c'\3 g'\2&gt;4 &lt;e\4 c'\3 g'\2&gt;2 | }</div><div class='input'><span class='fu'>volta</span>(<span class='no'>x</span>, <span class='fl'>1</span>, <span class='fu'>list</span>(<span class='no'>e1</span>, <span class='no'>e2</span>)) <span class='co'># one repeat with alternate ending</span></div><div class='output co'>#&gt; \repeat volta 2 { &lt;c\5&gt;4 &lt;e\4 c'\3 g'\2&gt;4 &lt;e\4 c'\3 g'\2&gt;2 | }
#&gt; \alternative {
#&gt;   { &lt;a\5&gt;1 | }
#&gt;   { &lt;b\5&gt;1 | }
#&gt; }</div><div class='input'><span class='fu'>volta</span>(<span class='no'>x</span>, <span class='fl'>4</span>, <span class='fu'>list</span>(<span class='no'>e1</span>, <span class='no'>e2</span>)) <span class='co'># multiple repeats but with only one alternate ending</span></div><div class='output co'>#&gt; \repeat volta 5 { &lt;c\5&gt;4 &lt;e\4 c'\3 g'\2&gt;4 &lt;e\4 c'\3 g'\2&gt;2 | }
#&gt; \alternative {
#&gt;   { &lt;a\5&gt;1 | }
#&gt;   { &lt;b\5&gt;1 | }
#&gt; }</div><div class='input'><span class='fu'>volta</span>(<span class='no'>x</span>, <span class='fl'>4</span>) <span class='co'># no alternates, more than one repeat</span></div><div class='output co'>#&gt; \repeat volta 5 { &lt;c\5&gt;4^"Play 5 times." &lt;e\4 c'\3 g'\2&gt;4 &lt;e\4 c'\3 g'\2&gt;2 | }</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://leonawicz.github.io/'>Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

